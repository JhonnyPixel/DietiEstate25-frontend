<app-navbar></app-navbar>

<div class="mx-20">

<h2 class="text-3xl font-semibold my-6">I tuoi preferiti</h2>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    @for(listing of listings;track listing.id){
      <div  [routerLink]="['/listing', getListingSlug(listing.category), listing.id]" class="border border-gray-400 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow">
          <div class="relative aspect-w-16 aspect-h-9">
            <img [src]="listing.photos[0] || '/img/house-placeholder.jpg'" alt="{{ listing.title }}" class="object-cover w-full h-48">
            <div class="absolute top-2 right-2 bg-blue-500 text-white px-2 py-1 rounded text-sm">
              {{ listing.listingType }}
            </div>
          </div>
          <div class="p-4">
            <h3 class="text-lg font-semibold mb-1 truncate">{{ listing.title }}</h3>
            <p class="text-gray-500 mb-2">{{ listing.location.address }}</p>
            <p class="font-bold text-xl mb-3">€{{ listing.price.toLocaleString() }}</p>
            <div class="flex items-center text-sm text-gray-600 mb-4">
              <span><i class="fas fa-ruler-combined mr-1"></i>piano {{ listing.floor }}</span>
              <span><i class="fas fa-ruler-combined mr-1"></i> {{ listing.squareMeters }} m²</span>
            </div>
            <div class="flex justify-between mt-2">
              <button (click)="deleteListing(listing.id);$event.stopPropagation()" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Elimina</button>
            </div>
          </div>
        </div>
    }@empty{
        Non hai nessun annuncio nei preferiti.
    }
    
  </div>

</div>
