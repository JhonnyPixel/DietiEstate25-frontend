<div class="flex flex-col h-screen">
    <app-navbar></app-navbar>


    <div class="flex flex-1 justify-items-start items-center flex-col" style="background: url(img/background.png); background-size:cover; background-position: center;">
        
        <img src="img/logo2.png">

        <!--Search wrapper-->
        <div class="w-230">

            <!--Search filters-->
            <div class="flex justify-between items-center bg-white p-1 rounded-3xl shadow-md">

                <!-- Filtro 1 -->
                <div class="relative group z-10">
                  <button class="flex px-4 py-2 hover:bg-gray-100 rounded-l-3xl items-center">

                    <fa-icon [icon]="faHouse"></fa-icon>

                    <!-- Button Text -->
                    <div class="flex flex-col items-start ml-2">
                        <p >Tipologia</p>
                        <p class="text-sm text-gray-400">Casa, terreno ...</p>
                    </div>

                    <!-- <img src="icona2"> -->
                     
                    
                  </button>

                  <!-- Dropdown -->
                  <div class="absolute left-0 w-48 bg-white rounded-lg shadow-lg hidden group-hover:block">
                    <div class="p-4">
                        <label for="options" class="text-sm font-semibold">Scegli un'opzione</label>
                        <select id="options" name="options" [(ngModel)]="filters.category" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-gray-900">
                          <option value="houses">Case</option>
                          <option value="buildings">Palazzi</option>
                          <option value="garages">Garage</option>
                          <option value="lands">Terrreni</option>
                        </select>
                      <!-- <button class="mt-3 w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">
                        Applica
                      </button> -->
                    </div>
                  </div>
                </div>
              
                <!-- Filtro 2 -->
                <div class="relative group z-10">
                    <button class="flex px-4 py-2 hover:bg-gray-100 flex items-center">

                      
                        
                        <fa-icon [icon]="faMoneyBill"></fa-icon>

                        <!-- Button Text -->
                        <div class="flex flex-col items-start ml-2">
                            <p >Prezzo</p>
                            <p class="text-sm text-gray-400">Min. e max.</p>
                        </div>
    
                       <!--  <img src="icona2"> -->
                        
                      </button>
                  <!-- Dropdown -->
                  <div class="absolute left-0 w-48 bg-white rounded-lg shadow-lg hidden group-hover:block">
                    <div class="p-4">
                        <div class="flex flex-col items-center space-y-4">
                            <label for="slider" class="text-sm font-semibold">Seleziona un valore:</label>
                            <ngx-slider 
                              [(value)]="priceValue" 
                              [(highValue)]="priceHighValue" 
                              [options]="priceOptions"
                              (valueChange)="onPriceChange($event)"
                              (highValueChange)="onPriceChange($event)">
                            </ngx-slider>                        </div>
                      <button class="mt-3 w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">
                        Applica
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Filtro 3 -->
                <div class="relative group z-10">
                    <button class="flex px-4 py-2 hover:bg-gray-100 items-center">

                      <fa-icon [icon]="faCube"></fa-icon>
    
                        <!-- Button Text -->
                        <div class="flex flex-col items-start ml-2">
                            <p >Superficie</p>
                            <p class="text-sm text-gray-400">Min. e max.</p>
                        </div>
    
                        <!-- <img src="icona2"> -->
                        
                      </button>
                  <!-- Dropdown -->
                  <div class="absolute left-0 w-48 bg-white rounded-lg shadow-lg hidden group-hover:block">
                 
                    <div class="p-4">
                        <div class="flex flex-col items-center space-y-4">
                            <label for="slider" class="text-sm font-semibold">Seleziona un valore:</label>
                            <ngx-slider 
                              [(value)]="surfaceValue" 
                              [(highValue)]="surfaceHighValue" 
                              [options]="surfaceOptions"
                              (valueChange)="onSurfaceChange($event)"
                              (highValueChange)="onSurfaceChange($event)">
                            </ngx-slider>                        </div>
                      <button class="mt-3 w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">
                        Applica
                      </button>
                    </div>

                    
                  </div>
                </div>
              
                <!-- Filtro 4 -->
                <div class="relative group z-10">
                    <button class="flex px-4 py-2 hover:bg-gray-100 rounded-r-3xl items-center">


                        <fa-icon [icon]="faSliders"></fa-icon>
    
                        <!-- Button Text -->
                        <div class="flex flex-col items-start ml-2">
                            <p >Altri filtri</p>
                            <p class="text-sm text-gray-400">Piano, bagni ...</p>
                        </div>
    
                        <!-- <img src="icona2"> -->
                        
                      </button>
                  <!-- Dropdown -->
                  <div class="absolute left-0 w-72 bg-white rounded-lg shadow-lg hidden group-hover:block">
                    <div class="p-4">
                     <!--  <p class="text-sm text-gray-700">.......</p>
                      <button class="mt-3 w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">
                        Applica
                      </button> -->
                     <!--  <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Tipo di annuncio</label>
                        <div class="flex space-x-2">
                          <label class="inline-flex items-center">
                            <input type="radio" name="listingType" value="BUY" checked class="h-4 w-4 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm text-gray-700">Acquista</span>
                          </label>
                          <label class="inline-flex items-center">
                            <input type="radio" name="listingType" value="RENT" class="h-4 w-4 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm text-gray-700">Affitta</span>
                          </label>
                        </div>
                      </div> -->
                      
                      <!-- Regione e Città -->
                      <div class="grid grid-cols-2 gap-3 mb-4">
                        <div>
                          <label for="region" class="block text-sm font-medium text-gray-700 mb-1">Regione</label>
                          <select id="region" name="region" [(ngModel)]="filters.region" class="w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="">Tutte</option>
                            <option value="lombardia">Lombardia</option>
                            <option value="lazio">Lazio</option>
                            <option value="campania">Campania</option>
                            <option value="sicilia">Sicilia</option>
                            <option value="veneto">Veneto</option>
                          </select>
                        </div>
                        <div>
                          <label for="city" class="block text-sm font-medium text-gray-700 mb-1">Città</label>
                          <select id="city" name="city" [(ngModel)]="filters.city" class="w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="">Tutte</option>
                            <option value="milano">Milano</option>
                            <option value="roma">Roma</option>
                            <option value="napoli">Napoli</option>
                            <option value="torino">Torino</option>
                            <option value="palermo">Palermo</option>
                          </select>
                        </div>
                      </div>
                      
                      <!-- Locali e Bagni -->
                      <div class="grid grid-cols-2 gap-3 mb-4">
                        <div>
                          <label class="block text-sm font-medium text-gray-700 mb-1">Locali</label>
                          <div class="flex items-center space-x-2">
                            <select id="nRoomsMin" name="nRoomsMin" [(ngModel)]="filters.nRoomsMin" class="w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-blue-500 focus:ring-blue-500">
                              <option value="">Min</option>
                              <option value="1">1</option>
                              <option value="2">2</option>
                              <option value="3">3</option>
                              <option value="4">4</option>
                              <option value="5">5+</option>
                            </select>
                            <span class="text-gray-500">-</span> 
                            <select id="nRoomsMax" name="nRoomsMax" [(ngModel)]="filters.nRoomsMax" class="w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-blue-500 focus:ring-blue-500">
                              <option value="">Max</option>
                              <option value="1">1</option>
                              <option value="2">2</option>
                              <option value="3">3</option>
                              <option value="4">4</option>
                              <option value="5">5+</option>
                            </select>
                          </div>
                        </div>
                        <div>
                          <label class="block text-sm font-medium text-gray-700 mb-1">Bagni</label>
                          <div class="flex items-center space-x-2">
                            <select id="nBathroomsMin" name="nBathroomsMin" [(ngModel)]="filters.nBathroomsMin" class="w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-blue-500 focus:ring-blue-500">
                              <option value="">Min</option>
                              <option value="1">1</option>
                              <option value="2">2</option>
                              <option value="3">3+</option>
                            </select>
                            <span class="text-gray-500">-</span>
                            <select id="nBathroomsMax" name="nBathroomsMax"  [(ngModel)]="filters.nBathroomsMax" class="w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-blue-500 focus:ring-blue-500">
                              <option value="">Max</option>
                              <option value="1">1</option>
                              <option value="2">2</option>
                              <option value="3">3+</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      
                      <!-- Piano -->
                      <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Piano</label>
                        <div class="flex items-center space-x-2">
                          <select id="floorMin" name="floorMin" [(ngModel)]="filters.floorMin" class="w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="">Min</option>
                            <option value="0">PT</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4+</option>
                          </select>
                          <span class="text-gray-500">-</span>
                          <select id="floorMax" name="floorMax" [(ngModel)]="filters.floorMax" class="w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="">Max</option>
                            <option value="0">PT</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4+</option>
                          </select>
                        </div>
                      </div>
                      
                      <!-- Classe Energetica -->
                      <div class="mb-4">
                        <label for="energyClassMin" class="block text-sm font-medium text-gray-700 mb-1">Classe Energetica min.</label>
                        <select id="energyClassMin" name="energyClassMin" [(ngModel)]="filters.energyClassMin" class="w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-blue-500 focus:ring-blue-500">
                          <option value="">Tutte</option>
                          <option value="A4">A4</option>
                          <option value="A3">A3</option>
                          <option value="A2">A2</option>
                          <option value="A1">A1</option>
                          <option value="A">A</option>
                          <option value="B">B</option>
                          <option value="C">C</option>
                          <option value="D">D</option>
                          <option value="E">E</option>
                          <option value="F">F</option>
                          <option value="G">G</option>
                        </select>
                      </div>
                      
                      <!-- Palazzina -->
                      <div class="mb-5">
                        <label class="inline-flex items-center">
                          <input type="checkbox" name="building" [(ngModel)]="filters.building" value="true" class="rounded text-blue-600 h-4 w-4 focus:ring-blue-500">
                          <span class="ml-2 text-sm text-gray-700">Edificato</span>
                        </label>
                      </div>
                      
                      <!-- Pulsanti -->
                      <div class="flex space-x-2">
                        <button class="flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300 text-sm">
                          Azzera
                        </button>
                        <button class="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 text-sm">
                          Applica
                        </button>
                      </div>

                    </div>
                  </div>
                </div>

              </div>


              <!--Search Bar-->
              <div class="flex bg-white px-5 py-3 rounded-3xl mt-1.5 space-x-3 items-center">

                <!--Acquista Affitta-->
                <div class="flex border-1 border-gray-300 rounded-xl p-1 space-x-1 h-min">
    
                        <!-- Opzione 1 -->
                        <label class="cursor-pointer">
                          <input type="radio" [(ngModel)]="filters.listingType" name="listingTypeOption" value="BUY" class="hidden peer">
                          <div class="px-1 py-2 rounded-xl  font-medium peer-checked:bg-orange-400 hover:bg-orange-100 transition-all duration-200" >
                            Acquista
                          </div>
                        </label>
                    
                        <!-- Opzione 2 -->
                        <label class="cursor-pointer">
                          <input type="radio" [(ngModel)]="filters.listingType" name="listingTypeOption" value="RENT" class="hidden peer">
                          <div class="px-1 py-2 rounded-xl  font-medium peer-checked:bg-orange-400  hover:bg-orange-100 transition-all duration-200">
                            Affitta
                          </div>
                        </label>
                    
                </div>

                <!--Search Input Field-->
                <div class="flex-1 relative group">
                  <!-- <input type="search" placeholder="Cerca per comune, via, indirizzo..." class="w-full focus:outline-none"> -->
                   <app-address-search (recentSearchSelected)="recentSearchSelected($event)" (addressSelected)="addressSelected($event)"></app-address-search>
                  <!-- <div class="hidden group-focus-within:block absolute bg-white w-full top-full rounded-b-xl pb-2.5">

                    <div class="px-5 py-5 hover:bg-gray-100 border-b-2 border-gray-100 text-lg"><img class="inline-block" src="cia"><p class="inline-block">Ricerca da punto sulla mappa</p></div>

                    <div class="px-5 py-3 hover:bg-gray-100"><img class="inline-block" src="cia"><p class="inline-block">Corso Protopisani 190</p></div>
                    <div class="px-5 py-3 hover:bg-gray-100"><img class="inline-block" src="cia"><p class="inline-block">Corso Protopisani 190</p></div>
                    <div class="px-5 py-3 hover:bg-gray-100"><img class="inline-block" src="cia"><p class="inline-block">Corso Protopisani 190</p></div>
                    <div class="px-5 py-3 hover:bg-gray-100"><img class="inline-block" src="cia"><p class="inline-block">Corso Protopisani 190</p></div>

                  </div> -->
                </div>
                

                <!--Search Button-->
                <button (click)="search()" class=" bg-orange-400 text-white py-5 px-7 rounded-lg hover:bg-orange-500">
                    Cerca
                </button>

              </div>

        </div>
        
    </div>


</div>